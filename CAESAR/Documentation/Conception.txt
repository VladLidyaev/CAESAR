
У каждого юзера есть код
у когда есть TTL
при начале сессии обновляем ключ

Все таймауты считаются на девайсах
Все таймауты показываются отдельной вьюшкой

Кофиг:
- Время жизни ключа
- Время ожидания ответа на запрос
- Время без активности в чате до его удаления

Выход:
- Выход из чата               | Noraml by user
- Собеседник вышел из чата    | Normal by companion
- Чат закрывается по таймауту | Normal by ttl
- Закрыл апп                  | UnNormal! - check on start

Старт чата:
- Ввели код юзера             | Popup - approve/cancel
- Юзер ввел код собеседника   | Loader



==========================================================

- Запуск аппа
- Подтверждение по биометрии
- Загрузка конфига
- Проверка экстренно закрытой сессии {
    Заново записываемвсе данные связанные с юзером
  }


- Показываем WELCOME экран
- Генерируем код юзера
- Показываем форму для подключения

==========================================================

Структуры данных

Config {
  version: Float
  code_ttl: UInt64
  chat_request_ttl: UInt64
}

User {
  id: String
  public_key: String
  display_name: String
  chat_request: String?
  chat: String?
}

ChatRequest {
  id: Int // Код чата
  user_id: String
  timestamp: UInt64
}

Chat {
  id: UUID // Используем как соль
  users: [String] // Юзеры в чате
  messagees: [String] // Сообщения в чате
  timestamp: UInt64
}

Message {
  id: UUID
  user: String // Автор
  data: String
  timestamp: UInt64
}

==========================================================

Launch -> Welcome -> Alert -> Chat -> Completion    !!!Restart!!!
             ^                            |
             |                            |
              ----------------------------
